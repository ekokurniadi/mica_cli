import 'package:freezed_annotation/freezed_annotation.dart';

part '{{entity_name_snack_case}}_entity.codegen.freezed.dart';

@freezed
class {{entity.name}}Entity with _${{entity.name}}Entity {
  const factory {{entity.name}}Entity({
    {{#entity.properties}}
    {{type}} {{name}},
    {{/entity.properties}}
  }) = _{{entity.name}}Entity;
}


extension {{entity.name}}EntityX on {{entity.name}}Entity {
  {{entity.name}}Model toModel() {
    return {{entity.name}}Model(
      {{#entity.properties}}
      {{name}}: {{#is_list}}
        {{#is_primitive}}
          {{name}}
        {{/is_primitive}}
        {{^is_primitive}}
          {{#is_required}}
            {{name}}.map((e) => e.toModel()).toList()
          {{/is_required}}
          {{^is_required}}
            {{name}}?.map((e) => e.toModel()).toList()
          {{/is_required}}
        {{/is_primitive}}
      {{/is_list}}
      {{^is_list}}
        {{#is_primitive}}
          {{name}}
        {{/is_primitive}}
        {{^is_primitive}}
          {{#is_required}}
            {{name}}.toModel()
          {{/is_required}}
          {{^is_required}}
            {{name}}?.toModel()
          {{/is_required}}
        {{/is_primitive}}
      {{/is_list}},
      {{/entity.properties}}
    );
  }
}